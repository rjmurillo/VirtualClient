"use strict";(self.webpackChunkvirtualclient=self.webpackChunkvirtualclient||[]).push([[8815],{6157:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=t(5893),s=t(3905);const r={},i="Install Snap Packages",l={id:"dependencies/0011-install-snap-packages",title:"Install Snap Packages",description:"Install packages available using the Snap Package Manager.",source:"@site/docs/dependencies/0011-install-snap-packages.md",sourceDirName:"dependencies",slug:"/dependencies/0011-install-snap-packages",permalink:"/VirtualClient/docs/dependencies/0011-install-snap-packages",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/VirtualClient/edit/main/website/docs/dependencies/0011-install-snap-packages.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Install Linux Packages",permalink:"/VirtualClient/docs/dependencies/0010-install-linux-packages"},next:{title:"Install Chocolatey",permalink:"/VirtualClient/docs/dependencies/0020-install-chocolatey"}},o={},c=[{value:"Supported Platform/Architectures",id:"supported-platformarchitectures",level:2},{value:"Profile Component Parameters",id:"profile-component-parameters",level:2},{value:"Examples",id:"examples",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.ah)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"install-snap-packages",children:"Install Snap Packages"}),"\n",(0,a.jsx)(n.p,{children:"Install packages available using the Snap Package Manager."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://snapcraft.io/docs/snap-tutorials",children:"Official Snap Documentation"})}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["Installing snap packages depends on the successful installation of the snapd service. Follow the example below to make sure the snapd service is installed correctly using the ",(0,a.jsx)(n.a,{href:"/VirtualClient/docs/dependencies/0010-install-linux-packages",children:"LinuxPackageInstallation dependency"})," before adding this one."]})}),"\n",(0,a.jsx)(n.h2,{id:"supported-platformarchitectures",children:"Supported Platform/Architectures"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"linux-x64"}),"\n",(0,a.jsx)(n.li,{children:"linux-arm64"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"profile-component-parameters",children:"Profile Component Parameters"}),"\n",(0,a.jsx)(n.p,{children:"The following section describes the parameters used by the individual component in the profile."}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Parameter"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Required"})}),(0,a.jsx)(n.th,{children:(0,a.jsx)(n.strong,{children:"Description"})})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Packages"}),(0,a.jsx)(n.td,{children:"Yes"}),(0,a.jsx)(n.td,{children:"Comma-delimited list of packages to be installed via snap."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Scenario"}),(0,a.jsx)(n.td,{children:"No"}),(0,a.jsx)(n.td,{children:"A name/identifier for the specific component in the profile. This is used for telemetry purposes only with components in dependency sections of the profile (i.e. cannot be used with --scenarios option on the command line)."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"AllowUpgrades"}),(0,a.jsx)(n.td,{children:"No"}),(0,a.jsx)(n.td,{children:"True/False. If true, previously installed packages will be upgraded during the process of installation.  If false, the package will be skipped."})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.p,{children:"In this example, VC installs the snapd service and a few packages using both the SnapPackageInstallation and LinuxPackageInstallation dependencies."}),"\n",(0,a.jsxs)(n.p,{children:["For SUSE distributions, confirm that the version in the zypper repository link matches the specific distribution that is being used on the VM (ie. Leap 15.4 vs. Leap 15.2 vs. Tumbleweed). More info on installing snapd on SUSE can be found ",(0,a.jsx)(n.a,{href:"https://snapcraft.io/docs/installing-snap-on-opensuse",children:"in the offical snap documentation"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["For CentOS7 distributions, the epel-release repository must be installed before the snapd service. More info on that can be found ",(0,a.jsx)(n.a,{href:"https://snapcraft.io/install/snapd/centos",children:"here"}),".\nFor RHEL7 distributions, the latest repository name can be found ",(0,a.jsx)(n.a,{href:"https://snapcraft.io/install/snapd/rhel",children:"here"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "Type": "LinuxPackageInstallation",\n    "Parameters": {\n        "Packages-Apt": "snapd",\n        "Packages-Dnf": "snapd",\n        "Packages-Yum": "epel-release,snapd",\n        "Repositories-Zypper": "https://download.opensuse.org/repositories/system:/snappy/openSUSE_Leap_15.4 snappy",\n        "Packages-Zypper": "snapd"\n    }\n},\n{\n    "Type": "SnapPackageInstallation",\n    "Parameters": {\n        "Scenario": "InstallDependenciesWithSnap",\n        "Packages": "package-1,package-2"\n    }\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,s.ah)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},3905:(e,n,t)=>{t.d(n,{ah:()=>c});var a=t(7294);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,s=function(e,n){if(null==e)return{};var t,a,s={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var o=a.createContext({}),c=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,s=e.mdxType,r=e.originalType,o=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=c(t),u=s,f=h["".concat(o,".").concat(u)]||h[u]||p[u]||r;return t?a.createElement(f,i(i({ref:n},d),{},{components:t})):a.createElement(f,i({ref:n},d))}));d.displayName="MDXCreateElement"}}]);