"use strict";(self.webpackChunkvirtualclient=self.webpackChunkvirtualclient||[]).push([[2498],{6183:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var n=r(5893),i=r(3905);const a={},o="HPCG",s={id:"workloads/hpcg/hpcg",title:"HPCG",description:"HPCG is a software package that performs a fixed number of multigrid preconditioned (using a symmetric Gauss-Seidel smoother) conjugate gradient (PCG)",source:"@site/docs/workloads/hpcg/hpcg.md",sourceDirName:"workloads/hpcg",slug:"/workloads/hpcg/",permalink:"/VirtualClient/docs/workloads/hpcg/",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/VirtualClient/edit/main/website/docs/workloads/hpcg/hpcg.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Graph500 Workload Profiles",permalink:"/VirtualClient/docs/workloads/graph500/graph500-profiles"},next:{title:"HPCG Workload Profiles",permalink:"/VirtualClient/docs/workloads/hpcg/hpcg-profiles"}},c={},l=[{value:"What is Being Measured?",id:"what-is-being-measured",level:2},{value:"Workload Metrics",id:"workload-metrics",level:2},{value:"Packaging and Setup",id:"packaging-and-setup",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.ah)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"hpcg",children:"HPCG"}),"\n",(0,n.jsx)(t.p,{children:"HPCG is a software package that performs a fixed number of multigrid preconditioned (using a symmetric Gauss-Seidel smoother) conjugate gradient (PCG)\niterations using double precision (64 bit) floating point values."}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://hpcg-benchmark.org/",children:"HPCG Official Site"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/hpcg-benchmark/hpcg/",children:"HPCG Github"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/spack/spack",children:"Spack Github"})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"what-is-being-measured",children:"What is Being Measured?"}),"\n",(0,n.jsx)(t.p,{children:"The HPCG rating is is a weighted GFLOP/s (billion floating operations per second) value that is composed of the operations performed in the PCG iteration\nphase over the time taken. The overhead time of problem construction and any modifications to improve performance are divided by 500 iterations\n(the amortization weight) and added to the runtime."}),"\n",(0,n.jsx)(t.h2,{id:"workload-metrics",children:"Workload Metrics"}),"\n",(0,n.jsx)(t.p,{children:"The following metrics are examples of those captured by the Virtual Client when running the HPCG workload."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Metric Name"}),(0,n.jsx)(t.th,{children:"Example Value (min)"}),(0,n.jsx)(t.th,{children:"Example Value (max)"}),(0,n.jsx)(t.th,{children:"Example Value (avg)"}),(0,n.jsx)(t.th,{children:"Unit"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Total Gflop/s"}),(0,n.jsx)(t.td,{children:"2.44736"}),(0,n.jsx)(t.td,{children:"9.11188"}),(0,n.jsx)(t.td,{children:"4.099711984732824"}),(0,n.jsx)(t.td,{children:"Gflop/s"})]})})]}),"\n",(0,n.jsx)(t.h2,{id:"packaging-and-setup",children:"Packaging and Setup"}),"\n",(0,n.jsx)(t.p,{children:"Virtual Client uses spack to install and load the HPCG binaries. Currently Virtual Client runs HPCG with openmpi support."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"Example of VC's HPCG run script:\n\n. /home/vcvmadmin/VirtualClient/packages/spack/share/spack/setup-env.sh\nspack install --reuse -n -y hpcg %gcc +openmp target=zen2 ^openmpi@4.1.1\nspack load hpcg %gcc\nmpirun --np 4 --use-hwthread-cpus --allow-run-as-root\n\n\nExample of VC's hpcg.dat file:\n\nHPCG benchmark input file\nHPC Benchmarking team, Microsoft Azure\n104 104 104\n1800\n"})})]})}function p(e={}){const{wrapper:t}={...(0,i.ah)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},3905:(e,t,r)=>{r.d(t,{ah:()=>l});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=l(r),u=i,m=h["".concat(c,".").concat(u)]||h[u]||d[u]||a;return r?n.createElement(m,o(o({ref:t},p),{},{components:r})):n.createElement(m,o({ref:t},p))}));p.displayName="MDXCreateElement"}}]);